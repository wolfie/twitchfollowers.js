<!DOCTYPE html>
<html>
<head>
    <title>Twitch follower alerts</title>
    <style>
        html {
            margin:0;
            padding:0;
            overflow: hidden;
        }

        #result .error {
            background-color: red;
            color: white;
        }
    </style>
</head>
<body>

<div id="result"></div>
<!--
This tag contains all the JSONP data.
Need to use JSONP to circumvent cross site scripting protections
-->
<div id="data"></div>

<script>
    /**
     * @name window.announceNewFollower
     * @function
     * @global
     * @param {Follower} follower
     * @param {DoneCallback} done
     */

    /**
     * @name window.announceNewFollowersRaw
     * @function
     * @global
     * @param {TwitchChannelFollowersResponse} response
     */

    /**
     * @name window.announceNewFollowers
     * @function
     * @global
     * @param {Follower[]}
     */

    /**
     * Call this function once your announcer is ready to accept the next
     * announcement.
     * @callback DoneCallback
     */

    /**
     * The element where all DOM elements should be attached to
     * @name result
     * @global
     * @type HTMLDivElement
     */

    /**
     * The element where all JSONP data is added to
     * @name data
     * @global
     * @type HTMLDivElement
     */
</script>

<script src="./config.js"></script>
<script src="lib/main.js"></script>
<script src="lib/tests.js" async></script>

<script>
    (function() {
        window.onhashchange = function() { window.location.reload() };

        if (!channel) {
            window.location.hash = window.prompt("Which channel to listen to?")
        }

        var script = document.createElement('script');
        script.onload = start;
        script.src = 'lib/announcer-'+config.announcer+'.js';
        document.body.appendChild(script);
    })();
</script>
</body>
</html>
